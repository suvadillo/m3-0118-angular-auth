<div class="chat">
  <div class="conversations">
    <div class="mensaje" *ngFor="let m of chat.messages">
      <div [ngClass]="m.type">
          <div class="text">{{m.message}}</div>
      </div>
    </div>
  </div>
  <div class="sender">
    <input type="text" [(ngModel)]="msgToSend" />
    <button (click)="sendMessage()">Enviar</button>
  </div>
</div>

<hr>
<!-- <div>
  <label for="">Name for the New Game</label>
    <input type="text" [(ngModel)]="nameGame" />
    <button (click)="getNewGame(nameGame)">Create New Game</button>
</div> -->

<hr>

<div *ngIf="this.chat.gameSocket">
  <div class="game-board">
    <h2>{{ this.chat.gameSocket.name }} - Created by {{ this.chat.gameSocket.creator.username }}</h2>
    <hr>
    <div *ngIf="this.chat.creator">
      <p>Soy el creador del juego</p>
      <button (click)='this.chat.sendQuestion("started")'>Start Game</button>
    </div>
    <div *ngIf="!this.chat.creator">
      <p>Game will start soon...</p>
    </div>
    <hr>
  </div>
</div>

<div *ngIf=this.chat.currentQuestion>
  <div class="game-started">
    <div class="question">
      <h2>{{ this.chat.currentQuestion.question }}</h2>        
    </div>
    <div class="answers">
        <button [ngClass]="this.chat.statusOption" *ngFor="let item of this.chat.currentQuestion.options; let i = index" (click)="recordAnswer(i, this.chat.currentQuestion.correctOption)">{{ item }}</button>
    </div>
  </div>
</div>
<div *ngIf='this.chat.gameFinished'>
    <div class="game-ranking">
      <h2>The game {{ this.chat.gameSocket.name }} is finished</h2>  
      <h3>Here is the ranking:</h3>
      <div class="ranking-item" *ngFor="let item of this.chat.gameRanking; let i = index">
        <p><b>{{i + 1}} - {{ item.user }}</b></p>
        <p>{{ item.score }}</p>     
      </div>
    </div>
</div>